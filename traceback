Action Input: what do you know about the entity of FRLDNXXXX00002 or entities that have this in its name?â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/any  
  io/streams/memory.py:111 in receive                                                   
                                                                                        
    108 â”‚   async def receive(self) -> T_co:                                            
    109 â”‚   â”‚   await checkpoint()                                                      
    110 â”‚   â”‚   try:                                                                    
  â± 111 â”‚   â”‚   â”‚   return self.receive_nowait()                                        
    112 â”‚   â”‚   except WouldBlock:                                                      
    113 â”‚   â”‚   â”‚   # Add ourselves in the queue                                        
    114 â”‚   â”‚   â”‚   receive_event = Event()                                             
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/any  
  io/streams/memory.py:106 in receive_nowait                                            
                                                                                        
    103 â”‚   â”‚   elif not self._state.open_send_channels:                                
    104 â”‚   â”‚   â”‚   raise EndOfStream                                                   
    105 â”‚   â”‚                                                                           
  â± 106 â”‚   â”‚   raise WouldBlock                                                        
    107 â”‚                                                                               
    108 â”‚   async def receive(self) -> T_co:                                            
    109 â”‚   â”‚   await checkpoint()                                                      
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
WouldBlock

During handling of the above exception, another exception occurred:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/any  
  io/_core/_tasks.py:115 in fail_after                                                  
                                                                                        
    112 â”‚   with get_async_backend().create_cancel_scope(                               
    113 â”‚   â”‚   deadline=deadline, shield=shield                                        
    114 â”‚   ) as cancel_scope:                                                          
  â± 115 â”‚   â”‚   yield cancel_scope                                                      
    116 â”‚                                                                               
    117 â”‚   if cancel_scope.cancelled_caught and current_time() >= cancel_scope.deadli  
    118 â”‚   â”‚   raise TimeoutError                                                      
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/mcp  
  /shared/session.py:272 in send_request                                                
                                                                                        
    269 â”‚   â”‚   â”‚                                                                       
    270 â”‚   â”‚   â”‚   try:                                                                
    271 â”‚   â”‚   â”‚   â”‚   with anyio.fail_after(timeout):                                 
  â± 272 â”‚   â”‚   â”‚   â”‚   â”‚   response_or_error = await response_stream_reader.receive()  
    273 â”‚   â”‚   â”‚   except TimeoutError:                                                
    274 â”‚   â”‚   â”‚   â”‚   raise McpError(                                                 
    275 â”‚   â”‚   â”‚   â”‚   â”‚   ErrorData(                                                  
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/any  
  io/streams/memory.py:119 in receive                                                   
                                                                                        
    116 â”‚   â”‚   â”‚   self._state.waiting_receivers[receive_event] = receiver             
    117 â”‚   â”‚   â”‚                                                                       
    118 â”‚   â”‚   â”‚   try:                                                                
  â± 119 â”‚   â”‚   â”‚   â”‚   await receive_event.wait()                                      
    120 â”‚   â”‚   â”‚   finally:                                                            
    121 â”‚   â”‚   â”‚   â”‚   self._state.waiting_receivers.pop(receive_event, None)          
    122                                                                                 
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/any  
  io/_backends/_asyncio.py:1774 in wait                                                 
                                                                                        
    1771 â”‚   â”‚   if self.is_set():                                                      
    1772 â”‚   â”‚   â”‚   await AsyncIOBackend.checkpoint()                                  
    1773 â”‚   â”‚   else:                                                                  
  â± 1774 â”‚   â”‚   â”‚   await self._event.wait()                                           
    1775 â”‚                                                                              
    1776 â”‚   def statistics(self) -> EventStatistics:                                   
    1777 â”‚   â”‚   return EventStatistics(len(self._event._waiters))                      
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/asyncio/locks.py:212 in wait     
                                                                                        
    209 â”‚   â”‚   fut = self._get_loop().create_future()                                  
    210 â”‚   â”‚   self._waiters.append(fut)                                               
    211 â”‚   â”‚   try:                                                                    
  â± 212 â”‚   â”‚   â”‚   await fut                                                           
    213 â”‚   â”‚   â”‚   return True                                                         
    214 â”‚   â”‚   finally:                                                                
    215 â”‚   â”‚   â”‚   self._waiters.remove(fut)                                           
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/asyncio/futures.py:287 in        
  __await__                                                                             
                                                                                        
    284 â”‚   def __await__(self):                                                        
    285 â”‚   â”‚   if not self.done():                                                     
    286 â”‚   â”‚   â”‚   self._asyncio_future_blocking = True                                
  â± 287 â”‚   â”‚   â”‚   yield self  # This tells Task to wait for completion.               
    288 â”‚   â”‚   if not self.done():                                                     
    289 â”‚   â”‚   â”‚   raise RuntimeError("await wasn't used with future")                 
    290 â”‚   â”‚   return self.result()  # May raise too.                                  
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/asyncio/tasks.py:385 in          
  __wakeup                                                                              
                                                                                        
     382 â”‚                                                                              
     383 â”‚   def __wakeup(self, future):                                                
     384 â”‚   â”‚   try:                                                                   
  â±  385 â”‚   â”‚   â”‚   future.result()                                                    
     386 â”‚   â”‚   except BaseException as exc:                                           
     387 â”‚   â”‚   â”‚   # This may also be a cancellation.                                 
     388 â”‚   â”‚   â”‚   self.__step(exc)                                                   
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/asyncio/futures.py:198 in        
  result                                                                                
                                                                                        
    195 â”‚   â”‚   """                                                                     
    196 â”‚   â”‚   if self._state == _CANCELLED:                                           
    197 â”‚   â”‚   â”‚   exc = self._make_cancelled_error()                                  
  â± 198 â”‚   â”‚   â”‚   raise exc                                                           
    199 â”‚   â”‚   if self._state != _FINISHED:                                            
    200 â”‚   â”‚   â”‚   raise exceptions.InvalidStateError('Result is not ready.')          
    201 â”‚   â”‚   self.__log_traceback = False                                            
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CancelledError: Cancelled by cancel scope 3410f2930

During handling of the above exception, another exception occurred:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/mcp  
  /shared/session.py:271 in send_request                                                
                                                                                        
    268 â”‚   â”‚   â”‚   â”‚   timeout = self._session_read_timeout_seconds.total_seconds()    
    269 â”‚   â”‚   â”‚                                                                       
    270 â”‚   â”‚   â”‚   try:                                                                
  â± 271 â”‚   â”‚   â”‚   â”‚   with anyio.fail_after(timeout):                                 
    272 â”‚   â”‚   â”‚   â”‚   â”‚   response_or_error = await response_stream_reader.receive()  
    273 â”‚   â”‚   â”‚   except TimeoutError:                                                
    274 â”‚   â”‚   â”‚   â”‚   raise McpError(                                                 
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/contextlib.py:158 in __exit__    
                                                                                        
    155 â”‚   â”‚   â”‚   â”‚   # tell if we get the same exception back                        
    156 â”‚   â”‚   â”‚   â”‚   value = typ()                                                   
    157 â”‚   â”‚   â”‚   try:                                                                
  â± 158 â”‚   â”‚   â”‚   â”‚   self.gen.throw(value)                                           
    159 â”‚   â”‚   â”‚   except StopIteration as exc:                                        
    160 â”‚   â”‚   â”‚   â”‚   # Suppress StopIteration *unless* it's the same exception that  
    161 â”‚   â”‚   â”‚   â”‚   # was passed to throw().  This prevents a StopIteration         
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/any  
  io/_core/_tasks.py:118 in fail_after                                                  
                                                                                        
    115 â”‚   â”‚   yield cancel_scope                                                      
    116 â”‚                                                                               
    117 â”‚   if cancel_scope.cancelled_caught and current_time() >= cancel_scope.deadli  
  â± 118 â”‚   â”‚   raise TimeoutError                                                      
    119                                                                                 
    120                                                                                 
    121 def move_on_after(delay: float | None, shield: bool = False) -> CancelScope:    
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TimeoutError

During handling of the above exception, another exception occurred:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/str  
  eamlit/runtime/scriptrunner/exec_code.py:128 in exec_func_with_error_handling         
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/str  
  eamlit/runtime/scriptrunner/script_runner.py:669 in code_to_exec                      
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/bot.py:55 in <module>      
                                                                                        
    52 â”‚   write_message('user', 'ğŸ§‘â€ğŸ’»',prompt)                                         
    53 â”‚                                                                                
    54 â”‚   # Generate a response                                                        
  â± 55 â”‚   handle_submit(prompt)                                                        
    56                                                                                  
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/bot.py:39 in               
  handle_submit                                                                         
                                                                                        
    36 â”‚   # Handle the response                                                        
    37 â”‚   with st.spinner('Thinking...'):                                              
    38 â”‚   â”‚   # # TODO: Replace this with a call to your LLM                           
  â± 39 â”‚   â”‚   response = generate_response(message)                                    
    40 â”‚   â”‚   # from time import sleep                                                 
    41 â”‚   â”‚   # sleep(1)                                                               
    42 â”‚   â”‚   write_message('assistant', 'ğŸ•¸ï¸', response)                                
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/agent.py:250 in            
  generate_response                                                                     
                                                                                        
    247 â”‚   # Invoke the agent with the user input                                      
    248 â”‚   with get_openai_callback() as cb:                                           
    249 â”‚   â”‚   # response = chat_agent.invoke({'input': user_input}, {'configurable':  
  â± 250 â”‚   â”‚   response = chat_agent.invoke({'input': user_input}, {'configurable': {  
    251 â”‚   â”‚   print("Prompt exchange between Langchain and LLM Tokens: ", cb.prompt_  
    252 â”‚   â”‚   print("Completion Tokens consumed by LLM: ", cb.completion_tokens)      
    253 â”‚   â”‚   print("Total Tokens: ", cb.total_tokens)                                
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:5441 in invoke                                          
                                                                                        
    5438 â”‚   â”‚   config: Optional[RunnableConfig] = None,                               
    5439 â”‚   â”‚   **kwargs: Optional[Any],                                               
    5440 â”‚   ) -> Output:                                                               
  â± 5441 â”‚   â”‚   return self.bound.invoke(                                              
    5442 â”‚   â”‚   â”‚   input,                                                             
    5443 â”‚   â”‚   â”‚   self._merge_configs(config),                                       
    5444 â”‚   â”‚   â”‚   **{**self.kwargs, **kwargs},                                       
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:5441 in invoke                                          
                                                                                        
    5438 â”‚   â”‚   config: Optional[RunnableConfig] = None,                               
    5439 â”‚   â”‚   **kwargs: Optional[Any],                                               
    5440 â”‚   ) -> Output:                                                               
  â± 5441 â”‚   â”‚   return self.bound.invoke(                                              
    5442 â”‚   â”‚   â”‚   input,                                                             
    5443 â”‚   â”‚   â”‚   self._merge_configs(config),                                       
    5444 â”‚   â”‚   â”‚   **{**self.kwargs, **kwargs},                                       
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:3049 in invoke                                          
                                                                                        
    3046 â”‚   â”‚   â”‚   â”‚   â”‚   if i == 0:                                                 
    3047 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   input_ = context.run(step.invoke, input_, config, **k  
    3048 â”‚   â”‚   â”‚   â”‚   â”‚   else:                                                      
  â± 3049 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   input_ = context.run(step.invoke, input_, config)      
    3050 â”‚   â”‚   # finish the root run                                                  
    3051 â”‚   â”‚   except BaseException as e:                                             
    3052 â”‚   â”‚   â”‚   run_manager.on_chain_error(e)                                      
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:5441 in invoke                                          
                                                                                        
    5438 â”‚   â”‚   config: Optional[RunnableConfig] = None,                               
    5439 â”‚   â”‚   **kwargs: Optional[Any],                                               
    5440 â”‚   ) -> Output:                                                               
  â± 5441 â”‚   â”‚   return self.bound.invoke(                                              
    5442 â”‚   â”‚   â”‚   input,                                                             
    5443 â”‚   â”‚   â”‚   self._merge_configs(config),                                       
    5444 â”‚   â”‚   â”‚   **{**self.kwargs, **kwargs},                                       
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:4781 in invoke                                          
                                                                                        
    4778 â”‚   â”‚   â”‚   TypeError: If the Runnable is a coroutine function.                
    4779 â”‚   â”‚   """                                                                    
    4780 â”‚   â”‚   if hasattr(self, "func"):                                              
  â± 4781 â”‚   â”‚   â”‚   return self._call_with_config(                                     
    4782 â”‚   â”‚   â”‚   â”‚   self._invoke,                                                  
    4783 â”‚   â”‚   â”‚   â”‚   input,                                                         
    4784 â”‚   â”‚   â”‚   â”‚   ensure_config(config),                                         
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:1938 in _call_with_config                               
                                                                                        
    1935 â”‚   â”‚   â”‚   with set_config_context(child_config) as context:                  
    1936 â”‚   â”‚   â”‚   â”‚   output = cast(                                                 
    1937 â”‚   â”‚   â”‚   â”‚   â”‚   "Output",                                                  
  â± 1938 â”‚   â”‚   â”‚   â”‚   â”‚   context.run(                                               
    1939 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   call_func_with_variable_args,  # type: ignore[arg-typ  
    1940 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   func,                                                  
    1941 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   input_,                                                
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/config.py:429 in call_func_with_variable_args                   
                                                                                        
    426 â”‚   â”‚   â”‚   kwargs["config"] = config                                           
    427 â”‚   if run_manager is not None and accepts_run_manager(func):                   
    428 â”‚   â”‚   kwargs["run_manager"] = run_manager                                     
  â± 429 â”‚   return func(input, **kwargs)  # type: ignore[call-arg]                      
    430                                                                                 
    431                                                                                 
    432 def acall_func_with_variable_args(                                              
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:4650 in _invoke                                         
                                                                                        
    4647 â”‚   â”‚   â”‚   â”‚   â”‚   f"Recursion limit reached when invoking {self} with input  
    4648 â”‚   â”‚   â”‚   â”‚   )                                                              
    4649 â”‚   â”‚   â”‚   â”‚   raise RecursionError(msg)                                      
  â± 4650 â”‚   â”‚   â”‚   output = output.invoke(                                            
    4651 â”‚   â”‚   â”‚   â”‚   input_,                                                        
    4652 â”‚   â”‚   â”‚   â”‚   patch_config(                                                  
    4653 â”‚   â”‚   â”‚   â”‚   â”‚   config,                                                    
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/runnables/base.py:5441 in invoke                                          
                                                                                        
    5438 â”‚   â”‚   config: Optional[RunnableConfig] = None,                               
    5439 â”‚   â”‚   **kwargs: Optional[Any],                                               
    5440 â”‚   ) -> Output:                                                               
  â± 5441 â”‚   â”‚   return self.bound.invoke(                                              
    5442 â”‚   â”‚   â”‚   input,                                                             
    5443 â”‚   â”‚   â”‚   self._merge_configs(config),                                       
    5444 â”‚   â”‚   â”‚   **{**self.kwargs, **kwargs},                                       
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain/chains/base.py:165 in invoke                                                   
                                                                                        
    162 â”‚   â”‚   try:                                                                    
    163 â”‚   â”‚   â”‚   self._validate_inputs(inputs)                                       
    164 â”‚   â”‚   â”‚   outputs = (                                                         
  â± 165 â”‚   â”‚   â”‚   â”‚   self._call(inputs, run_manager=run_manager)                     
    166 â”‚   â”‚   â”‚   â”‚   if new_arg_supported                                            
    167 â”‚   â”‚   â”‚   â”‚   else self._call(inputs)                                         
    168 â”‚   â”‚   â”‚   )                                                                   
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain/agents/agent.py:1625 in _call                                                  
                                                                                        
    1622 â”‚   â”‚   start_time = time.time()                                               
    1623 â”‚   â”‚   # We now enter the agent loop (until it returns something).            
    1624 â”‚   â”‚   while self._should_continue(iterations, time_elapsed):                 
  â± 1625 â”‚   â”‚   â”‚   next_step_output = self._take_next_step(                           
    1626 â”‚   â”‚   â”‚   â”‚   name_to_tool_map,                                              
    1627 â”‚   â”‚   â”‚   â”‚   color_mapping,                                                 
    1628 â”‚   â”‚   â”‚   â”‚   inputs,                                                        
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain/agents/agent.py:1325 in _take_next_step                                        
                                                                                        
    1322 â”‚   â”‚   run_manager: Optional[CallbackManagerForChainRun] = None,              
    1323 â”‚   ) -> Union[AgentFinish, list[tuple[AgentAction, str]]]:                    
    1324 â”‚   â”‚   return self._consume_next_step(                                        
  â± 1325 â”‚   â”‚   â”‚   list(                                                              
    1326 â”‚   â”‚   â”‚   â”‚   self._iter_next_step(                                          
    1327 â”‚   â”‚   â”‚   â”‚   â”‚   name_to_tool_map,                                          
    1328 â”‚   â”‚   â”‚   â”‚   â”‚   color_mapping,                                             
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain/agents/agent.py:1408 in _iter_next_step                                        
                                                                                        
    1405 â”‚   â”‚   for agent_action in actions:                                           
    1406 â”‚   â”‚   â”‚   yield agent_action                                                 
    1407 â”‚   â”‚   for agent_action in actions:                                           
  â± 1408 â”‚   â”‚   â”‚   yield self._perform_agent_action(                                  
    1409 â”‚   â”‚   â”‚   â”‚   name_to_tool_map,                                              
    1410 â”‚   â”‚   â”‚   â”‚   color_mapping,                                                 
    1411 â”‚   â”‚   â”‚   â”‚   agent_action,                                                  
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain/agents/agent.py:1433 in _perform_agent_action                                  
                                                                                        
    1430 â”‚   â”‚   â”‚   if return_direct:                                                  
    1431 â”‚   â”‚   â”‚   â”‚   tool_run_kwargs["llm_prefix"] = ""                             
    1432 â”‚   â”‚   â”‚   # We then call the tool on the tool input to get an observation    
  â± 1433 â”‚   â”‚   â”‚   observation = tool.run(                                            
    1434 â”‚   â”‚   â”‚   â”‚   agent_action.tool_input,                                       
    1435 â”‚   â”‚   â”‚   â”‚   verbose=self.verbose,                                          
    1436 â”‚   â”‚   â”‚   â”‚   color=color,                                                   
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/tools/base.py:888 in run                                                  
                                                                                        
     885 â”‚   â”‚                                                                          
     886 â”‚   â”‚   if error_to_raise:                                                     
     887 â”‚   â”‚   â”‚   run_manager.on_tool_error(error_to_raise)                          
  â±  888 â”‚   â”‚   â”‚   raise error_to_raise                                               
     889 â”‚   â”‚   output = _format_output(content, artifact, tool_call_id, self.name, s  
     890 â”‚   â”‚   run_manager.on_tool_end(output, color=color, name=self.name, **kwargs  
     891 â”‚   â”‚   return output                                                          
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/tools/base.py:857 in run                                                  
                                                                                        
     854 â”‚   â”‚   â”‚   â”‚   â”‚   tool_kwargs |= {"run_manager": run_manager}                
     855 â”‚   â”‚   â”‚   â”‚   if config_param := _get_runnable_config_param(self._run):      
     856 â”‚   â”‚   â”‚   â”‚   â”‚   tool_kwargs |= {config_param: config}                      
  â±  857 â”‚   â”‚   â”‚   â”‚   response = context.run(self._run, *tool_args, **tool_kwargs)   
     858 â”‚   â”‚   â”‚   if self.response_format == "content_and_artifact":                 
     859 â”‚   â”‚   â”‚   â”‚   if not isinstance(response, tuple) or len(response) != 2:      
     860 â”‚   â”‚   â”‚   â”‚   â”‚   msg = (                                                    
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/lan  
  gchain_core/tools/simple.py:105 in _run                                               
                                                                                        
    102 â”‚   â”‚   â”‚   â”‚   kwargs["callbacks"] = run_manager.get_child()                   
    103 â”‚   â”‚   â”‚   if config_param := _get_runnable_config_param(self.func):           
    104 â”‚   â”‚   â”‚   â”‚   kwargs[config_param] = config                                   
  â± 105 â”‚   â”‚   â”‚   return self.func(*args, **kwargs)                                   
    106 â”‚   â”‚   msg = "Tool does not support sync invocation."                          
    107 â”‚   â”‚   raise NotImplementedError(msg)                                          
    108                                                                                 
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/agent.py:109 in sync_tool  
                                                                                        
    106 â”‚   â”‚   â”‚   await db_agent_runner.start_session()                               
    107 â”‚   â”‚   return await db_agent_runner.run(q)                                     
    108 â”‚                                                                               
  â± 109 â”‚   return sync_wrapper(ensure_session_then_run, query)                         
    110                                                                                 
    111                                                                                 
    112 # def sync_wrapper(coro_func, *args, **kwargs):                                 
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/agent.py:133 in            
  sync_wrapper                                                                          
                                                                                        
    130 â”‚   â”‚   if loop.is_running():                                                   
    131 â”‚   â”‚   â”‚   return asyncio.ensure_future(coro_func(*args, **kwargs))            
    132 â”‚   â”‚   else:                                                                   
  â± 133 â”‚   â”‚   â”‚   return loop.run_until_complete(coro_func(*args, **kwargs))          
    134 â”‚   except RuntimeError:                                                        
    135 â”‚   â”‚   # Fallback: create new loop                                             
    136 â”‚   â”‚   new_loop = asyncio.new_event_loop()                                     
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/nes  
  t_asyncio.py:98 in run_until_complete                                                 
                                                                                        
     95 â”‚   â”‚   â”‚   if not f.done():                                                    
     96 â”‚   â”‚   â”‚   â”‚   raise RuntimeError(                                             
     97 â”‚   â”‚   â”‚   â”‚   â”‚   'Event loop stopped before Future completed.')              
  â±  98 â”‚   â”‚   â”‚   return f.result()                                                   
     99 â”‚                                                                               
    100 â”‚   def _run_once(self):                                                        
    101 â”‚   â”‚   """                                                                     
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/asyncio/futures.py:203 in        
  result                                                                                
                                                                                        
    200 â”‚   â”‚   â”‚   raise exceptions.InvalidStateError('Result is not ready.')          
    201 â”‚   â”‚   self.__log_traceback = False                                            
    202 â”‚   â”‚   if self._exception is not None:                                         
  â± 203 â”‚   â”‚   â”‚   raise self._exception.with_traceback(self._exception_tb)            
    204 â”‚   â”‚   return self._result                                                     
    205 â”‚                                                                               
    206 â”‚   def exception(self):                                                        
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/lib/python3.12/asyncio/tasks.py:316 in          
  __step_run_and_handle_result                                                          
                                                                                        
     313 â”‚   â”‚   â”‚   â”‚   # don't have `__iter__` and `__next__` methods.                
     314 â”‚   â”‚   â”‚   â”‚   result = coro.send(None)                                       
     315 â”‚   â”‚   â”‚   else:                                                              
  â±  316 â”‚   â”‚   â”‚   â”‚   result = coro.throw(exc)                                       
     317 â”‚   â”‚   except StopIteration as exc:                                           
     318 â”‚   â”‚   â”‚   if self._must_cancel:                                              
     319 â”‚   â”‚   â”‚   â”‚   # Task is cancelled right before coro stops.                   
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/agent.py:107 in            
  ensure_session_then_run                                                               
                                                                                        
    104 â”‚   â”‚   if not db_agent_runner.session or not getattr(db_agent_runner.session,  
    105 â”‚   â”‚   â”‚   print("XXXXX NOOOOO SESSION FOUND. Will Start session XXXXX")       
    106 â”‚   â”‚   â”‚   await db_agent_runner.start_session()                               
  â± 107 â”‚   â”‚   return await db_agent_runner.run(q)                                     
    108 â”‚                                                                               
    109 â”‚   return sync_wrapper(ensure_session_then_run, query)                         
    110                                                                                 
                                                                                        
  /Users/rasingh/Documents/Random/code/ai/llm-chatbot-python/AgentRunner.py:62 in run   
                                                                                        
    59 â”‚   â”‚                                                                            
    60 â”‚   â”‚   content = UserContent(parts=[Part(text=new_message)])                    
    61 â”‚   â”‚   result = None                                                            
  â± 62 â”‚   â”‚   async for event in self.runner.run_async(                                
    63 â”‚   â”‚   â”‚   â”‚   user_id=self.session.user_id,                                    
    64 â”‚   â”‚   â”‚   â”‚   session_id=self.session.id,                                      
    65 â”‚   â”‚   â”‚   â”‚   new_message=content):                                            
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/runners.py:233 in run_async                                                   
                                                                                        
    230 â”‚   â”‚   async for event in ctx.agent.run_async(ctx):                            
    231 â”‚   â”‚     yield event                                                           
    232 â”‚                                                                               
  â± 233 â”‚     async for event in self._exec_with_plugin(                                
    234 â”‚   â”‚     invocation_context, session, execute                                  
    235 â”‚     ):                                                                        
    236 â”‚   â”‚   yield event                                                             
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/runners.py:274 in _exec_with_plugin                                           
                                                                                        
    271 â”‚     yield early_exit_event                                                    
    272 â”‚   else:                                                                       
    273 â”‚     # Step 2: Otherwise continue with normal execution                        
  â± 274 â”‚     async for event in execute_fn(invocation_context):                        
    275 â”‚   â”‚   if not event.partial:                                                   
    276 â”‚   â”‚     await self.session_service.append_event(session=session, event=event  
    277 â”‚   â”‚   # Step 3: Run the on_event callbacks to optionally modify the event.    
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/runners.py:230 in execute                                                     
                                                                                        
    227 â”‚     invocation_context.agent = self._find_agent_to_run(session, root_agent)   
    228 â”‚                                                                               
    229 â”‚     async def execute(ctx: InvocationContext) -> AsyncGenerator[Event]:       
  â± 230 â”‚   â”‚   async for event in ctx.agent.run_async(ctx):                            
    231 â”‚   â”‚     yield event                                                           
    232 â”‚                                                                               
    233 â”‚     async for event in self._exec_with_plugin(                                
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/agents/base_agent.py:223 in run_async                                         
                                                                                        
    220 â”‚     if ctx.end_invocation:                                                    
    221 â”‚   â”‚   return                                                                  
    222 â”‚                                                                               
  â± 223 â”‚     async for event in self._run_async_impl(ctx):                             
    224 â”‚   â”‚   yield event                                                             
    225 â”‚                                                                               
    226 â”‚     if ctx.end_invocation:                                                    
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/agents/llm_agent.py:290 in _run_async_impl                                    
                                                                                        
    287   async def _run_async_impl(                                                    
    288 â”‚     self, ctx: InvocationContext                                              
    289   ) -> AsyncGenerator[Event, None]:                                             
  â± 290 â”‚   async for event in self._llm_flow.run_async(ctx):                           
    291 â”‚     self.__maybe_save_output_to_state(event)                                  
    292 â”‚     yield event                                                               
    293                                                                                 
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/flows/llm_flows/base_llm_flow.py:334 in run_async                             
                                                                                        
    331 â”‚   """Runs the flow."""                                                        
    332 â”‚   while True:                                                                 
    333 â”‚     last_event = None                                                         
  â± 334 â”‚     async for event in self._run_one_step_async(invocation_context):          
    335 â”‚   â”‚   last_event = event                                                      
    336 â”‚   â”‚   yield event                                                             
    337 â”‚     if not last_event or last_event.is_final_response() or last_event.partia  
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/flows/llm_flows/base_llm_flow.py:350 in _run_one_step_async                   
                                                                                        
    347 â”‚   llm_request = LlmRequest()                                                  
    348 â”‚                                                                               
    349 â”‚   # Preprocess before calling the LLM.                                        
  â± 350 â”‚   async for event in self._preprocess_async(invocation_context, llm_request)  
    351 â”‚     yield event                                                               
    352 â”‚   if invocation_context.end_invocation:                                       
    353 â”‚     return                                                                    
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/flows/llm_flows/base_llm_flow.py:401 in _preprocess_async                     
                                                                                        
    398 â”‚     from ...agents.llm_agent import _convert_tool_union_to_tools              
    399 â”‚                                                                               
    400 â”‚     # Then process all tools from this tool union                             
  â± 401 â”‚     tools = await _convert_tool_union_to_tools(                               
    402 â”‚   â”‚     tool_union, ReadonlyContext(invocation_context)                       
    403 â”‚     )                                                                         
    404 â”‚     for tool in tools:                                                        
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/agents/llm_agent.py:124 in _convert_tool_union_to_tools                       
                                                                                        
    121   if isinstance(tool_union, Callable):                                          
    122 â”‚   return [FunctionTool(func=tool_union)]                                      
    123                                                                                 
  â± 124   return await tool_union.get_tools(ctx)                                        
    125                                                                                 
    126                                                                                 
    127 class LlmAgent(BaseAgent):                                                      
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/tools/mcp_tool/mcp_session_manager.py:128 in wrapper                          
                                                                                        
    125   @functools.wraps(func)  # Preserves original function metadata                
    126   async def wrapper(self, *args, **kwargs):                                     
    127 â”‚   try:                                                                        
  â± 128 â”‚     return await func(self, *args, **kwargs)                                  
    129 â”‚   except anyio.ClosedResourceError:                                           
    130 â”‚     # Simply retry the function - create_session will handle                  
    131 â”‚     # detecting and replacing disconnected sessions                           
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/goo  
  gle/adk/tools/mcp_tool/mcp_toolset.py:153 in get_tools                                
                                                                                        
    150 â”‚   session = await self._mcp_session_manager.create_session()                  
    151 â”‚                                                                               
    152 â”‚   # Fetch available tools from the MCP server                                 
  â± 153 â”‚   tools_response: ListToolsResult = await session.list_tools()                
    154 â”‚                                                                               
    155 â”‚   # Apply filtering based on context and tool_filter                          
    156 â”‚   tools = []                                                                  
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/mcp  
  /client/session.py:386 in list_tools                                                  
                                                                                        
    383 â”‚                                                                               
    384 â”‚   async def list_tools(self, cursor: str | None = None) -> types.ListToolsRe  
    385 â”‚   â”‚   """Send a tools/list request."""                                        
  â± 386 â”‚   â”‚   result = await self.send_request(                                       
    387 â”‚   â”‚   â”‚   types.ClientRequest(                                                
    388 â”‚   â”‚   â”‚   â”‚   types.ListToolsRequest(                                         
    389 â”‚   â”‚   â”‚   â”‚   â”‚   method="tools/list",                                        
                                                                                        
  /Users/rasingh/.pyenv/versions/3.12.2/envs/myenv312/lib/python3.12/site-packages/mcp  
  /shared/session.py:274 in send_request                                                
                                                                                        
    271 â”‚   â”‚   â”‚   â”‚   with anyio.fail_after(timeout):                                 
    272 â”‚   â”‚   â”‚   â”‚   â”‚   response_or_error = await response_stream_reader.receive()  
    273 â”‚   â”‚   â”‚   except TimeoutError:                                                
  â± 274 â”‚   â”‚   â”‚   â”‚   raise McpError(                                                 
    275 â”‚   â”‚   â”‚   â”‚   â”‚   ErrorData(                                                  
    276 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   code=httpx.codes.REQUEST_TIMEOUT,                       
    277 â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   message=(                                               
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
McpError: Timed out while waiting for response to ClientRequest. Waited 5.0 seconds.